var t,e=(t=require("fecha"))&&"object"==typeof t&&"default"in t?t.default:t;function n(t){var e=t.split(":").map(Number);return 3600*e[0]+60*e[1]+e[2]}var a=function(){try{(new Date).toLocaleDateString("i")}catch(t){return"RangeError"===t.name}return!1}()?function(t,e){return t.toLocaleDateString(e,{year:"numeric",month:"long",day:"numeric"})}:function(t){return e.format(t,"mediumDate")},r=function(){try{(new Date).toLocaleString("i")}catch(t){return"RangeError"===t.name}return!1}()?function(t,e){return t.toLocaleString(e,{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"})}:function(t){return e.format(t,"haDateTime")},o=function(){try{(new Date).toLocaleTimeString("i")}catch(t){return"RangeError"===t.name}return!1}()?function(t,e){return t.toLocaleTimeString(e,{hour:"numeric",minute:"2-digit"})}:function(t){return e.format(t,"shortTime")},i=[60,60,24,7],s=["second","minute","hour","day"],c=function(t){return t<10?"0"+t:t};function u(t){return t.substr(0,t.indexOf("."))}function l(t){var e=t.language||"en";return t.translationMetadata.translations[e]&&t.translationMetadata.translations[e].isRTL||!1}function p(t){return u(t.entity_id)}var h=["closed","locked","off"],m=new Set(["fan","input_boolean","light","switch","group","automation"]),d=function(t,e,n,a){a=a||{},n=null==n?{}:n;var r=new Event(e,{bubbles:void 0===a.bubbles||a.bubbles,cancelable:Boolean(a.cancelable),composed:void 0===a.composed||a.composed});return r.detail=n,t.dispatchEvent(r),r},f={alert:"hass:alert",automation:"hass:playlist-play",calendar:"hass:calendar",camera:"hass:video",climate:"hass:thermostat",configurator:"hass:settings",conversation:"hass:text-to-speech",device_tracker:"hass:account",fan:"hass:fan",group:"hass:google-circles-communities",history_graph:"hass:chart-line",homeassistant:"hass:home-assistant",homekit:"hass:home-automation",image_processing:"hass:image-filter-frames",input_boolean:"hass:drawing",input_datetime:"hass:calendar-clock",input_number:"hass:ray-vertex",input_select:"hass:format-list-bulleted",input_text:"hass:textbox",light:"hass:lightbulb",mailbox:"hass:mailbox",notify:"hass:comment-alert",person:"hass:account",plant:"hass:flower",proximity:"hass:apple-safari",remote:"hass:remote",scene:"hass:google-pages",script:"hass:file-document",sensor:"hass:eye",simple_alarm:"hass:bell",sun:"hass:white-balance-sunny",switch:"hass:flash",timer:"hass:timer",updater:"hass:cloud-upload",vacuum:"hass:robot-vacuum",water_heater:"hass:thermometer",weblink:"hass:open-in-new"},v=function(t,e){d(t,"haptic",e)},g=function(t,e,n){void 0===n&&(n=!1),n?history.replaceState(null,"",e):history.pushState(null,"",e),d(window,"location-changed",{replace:n})},_=function(t,e,n){void 0===n&&(n=!0);var a,r=u(e),o="group"===r?"homeassistant":r;switch(r){case"lock":a=n?"unlock":"lock";break;case"cover":a=n?"open_cover":"close_cover";break;default:a=n?"turn_on":"turn_off"}return t.callService(o,a,{entity_id:e})},b=function(t,e){var n=h.includes(t.states[e].state);return _(t,e,n)};const y=new WeakMap;String(Math.random()).slice(2);try{const t={get capture(){return!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.0.0");var w="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,x=function(t){function e(){t.call(this),this.holdTime=500,this.ripple=document.createElement("paper-ripple"),this.timer=void 0,this.held=!1,this.cooldownStart=!1,this.cooldownEnd=!1}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.connectedCallback=function(){var t=this;Object.assign(this.style,{borderRadius:"50%",position:"absolute",width:w?"100px":"50px",height:w?"100px":"50px",transform:"translate(-50%, -50%)",pointerEvents:"none"}),this.appendChild(this.ripple),this.ripple.style.color="#03a9f4",this.ripple.style.color="var(--primary-color)",["touchcancel","mouseout","mouseup","touchmove","mousewheel","wheel","scroll"].forEach(function(e){document.addEventListener(e,function(){clearTimeout(t.timer),t.stopAnimation(),t.timer=void 0},{passive:!0})})},e.prototype.bind=function(t){var e=this;if(!t.longPress){t.longPress=!0,t.addEventListener("contextmenu",function(t){var e=t||window.event;return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!1,!1});var n=function(t){var n,a;e.cooldownStart||(e.held=!1,t.touches?(n=t.touches[0].pageX,a=t.touches[0].pageY):(n=t.pageX,a=t.pageY),e.timer=window.setTimeout(function(){e.startAnimation(n,a),e.held=!0},e.holdTime),e.cooldownStart=!0,window.setTimeout(function(){return e.cooldownStart=!1},100))},a=function(n){e.cooldownEnd||["touchend","touchcancel"].includes(n.type)&&void 0===e.timer||(clearTimeout(e.timer),e.stopAnimation(),e.timer=void 0,t.dispatchEvent(e.held?new Event("ha-hold"):new Event("ha-click")),e.cooldownEnd=!0,window.setTimeout(function(){return e.cooldownEnd=!1},100))};t.addEventListener("touchstart",n,{passive:!0}),t.addEventListener("touchend",a),t.addEventListener("touchcancel",a),t.addEventListener("mousedown",n,{passive:!0}),t.addEventListener("click",a)}},e.prototype.startAnimation=function(t,e){Object.assign(this.style,{left:t+"px",top:e+"px",display:null}),this.ripple.holdDown=!0,this.ripple.simulatedRipple()},e.prototype.stopAnimation=function(){this.ripple.holdDown=!1,this.style.display="none"},e}(HTMLElement);customElements.get("long-press")||customElements.define("long-press",x);var E=function(t){var e=function(){var t=document.body;if(t.querySelector("long-press"))return t.querySelector("long-press");var e=document.createElement("long-press");return t.appendChild(e),e}();e&&e.bind(t)},T=(t=>(...t)=>{const e=function(){return function(t){E(t.committer.element)}}(...t);return y.set(e,!0),e})();exports.durationToSeconds=n,exports.formatDate=a,exports.formatDateTime=r,exports.formatTime=o,exports.relativeTime=function(t,e,n){void 0===n&&(n={});var a,r=((n.compareTime||new Date).getTime()-t.getTime())/1e3,o=r>=0?"past":"future";r=Math.abs(r);for(var c=0;c<i.length;c++){if(r<i[c]){r=Math.floor(r),a=e("ui.components.relative_time.duration."+s[c],"count",r);break}r/=i[c]}return void 0===a&&(a=e("ui.components.relative_time.duration.week","count",r=Math.floor(r))),!1===n.includeTense?a:e("ui.components.relative_time."+o,"time",a)},exports.secondsToDuration=function(t){var e=Math.floor(t/3600),n=Math.floor(t%3600/60),a=Math.floor(t%3600%60);return e>0?e+":"+c(n)+":"+c(a):n>0?n+":"+c(a):a>0?""+a:null},exports.timerTimeRemaining=function(t){var e=n(t.attributes.remaining);if("active"===t.state){var a=(new Date).getTime(),r=new Date(t.last_changed).getTime();e=Math.max(e-(a-r)/1e3,0)}return e},exports.applyThemesOnElement=function(t,e,n,a){void 0===a&&(a=!1),t._themes||(t._themes={});var r=e.default_theme;("default"===n||n&&e.themes[n])&&(r=n);var o=Object.assign({},t._themes);if("default"!==r){var i=e.themes[r];Object.keys(i).forEach(function(e){var n="--"+e;t._themes[n]="",o[n]=i[e]})}if(t.updateStyles?t.updateStyles(o):window.ShadyCSS&&window.ShadyCSS.styleSubtree(t,o),a){var s=document.querySelector("meta[name=theme-color]");if(s){s.hasAttribute("default-content")||s.setAttribute("default-content",s.getAttribute("content"));var c=o["--primary-color"]||s.getAttribute("default-content");s.setAttribute("content",c)}}},exports.computeDomain=u,exports.computeEntity=function(t){return t.substr(t.indexOf(".")+1)},exports.computeRTL=l,exports.computeRTLDirection=function(t){return l(t)?"rtl":"ltr"},exports.computeStateDisplay=function(t,e,n){var i,s=p(e);if("binary_sensor"===s)e.attributes.device_class&&(i=t("state."+s+"."+e.attributes.device_class+"."+e.state)),i||(i=t("state."+s+".default."+e.state));else if(e.attributes.unit_of_measurement&&!["unknown","unavailable"].includes(e.state))i=e.state+" "+e.attributes.unit_of_measurement;else if("input_datetime"===s){var c;if(e.attributes.has_time)if(e.attributes.has_date)c=new Date(e.attributes.year,e.attributes.month-1,e.attributes.day,e.attributes.hour,e.attributes.minute),i=r(c,n);else{var u=new Date;c=new Date(u.getFullYear(),u.getMonth(),u.getDay(),e.attributes.hour,e.attributes.minute),i=o(c,n)}else c=new Date(e.attributes.year,e.attributes.month-1,e.attributes.day),i=a(c,n)}else i="zwave"===s?["initializing","dead"].includes(e.state)?t("state.zwave.query_stage."+e.state,"query_stage",e.attributes.query_stage):t("state.zwave.default."+e.state):t("state."+s+"."+e.state);return i||(i=t("state.default."+e.state)||t("component."+s+".state."+e.state)||e.state),i},exports.computeStateDomain=p,exports.DEFAULT_DOMAIN_ICON="hass:bookmark",exports.DEFAULT_PANEL="lovelace",exports.DOMAINS_WITH_CARD=["climate","cover","configurator","input_select","input_number","input_text","lock","media_player","scene","script","timer","vacuum","water_heater","weblink"],exports.DOMAINS_WITH_MORE_INFO=["alarm_control_panel","automation","camera","climate","configurator","cover","fan","group","history_graph","input_datetime","light","lock","media_player","script","sun","updater","vacuum","water_heater","weather"],exports.DOMAINS_HIDE_MORE_INFO=["input_number","input_select","input_text","scene","weblink"],exports.DOMAINS_MORE_INFO_NO_HISTORY=["camera","configurator","history_graph","scene"],exports.STATES_OFF=h,exports.DOMAINS_TOGGLE=m,exports.UNIT_C="°C",exports.UNIT_F="°F",exports.DEFAULT_VIEW_ENTITY_ID="group.default_view",exports.createThing=function(t){var e=function(t,e){return n("hui-error-card",{type:"error",error:t,config:e})},n=function(t,n){var a=window.document.createElement(t);try{a.setConfig(n)}catch(a){return console.error(t,a),e(a.message,n)}return a};if(!t||"object"!=typeof t||!t.type||!t.type.startsWith("custom:"))return e("No type configured",t);var a=t.type.substr("custom:".length);if(customElements.get(a))return n(a,t);var r=e("Custom element doesn't exist: "+t.type+".",t);r.style.display="None";var o=setTimeout(function(){r.style.display=""},2e3);return customElements.whenDefined(t.type).then(function(){clearTimeout(o),d(r,"ll-rebuild",{},r)}),r},exports.fixedIcons=f,exports.domainIcon=function(t,e){if(t in f)return f[t];switch(t){case"alarm_control_panel":switch(e){case"armed_home":return"hass:bell-plus";case"armed_night":return"hass:bell-sleep";case"disarmed":return"hass:bell-outline";case"triggered":return"hass:bell-ring";default:return"hass:bell"}case"binary_sensor":return e&&"off"===e?"hass:radiobox-blank":"hass:checkbox-marked-circle";case"cover":return"closed"===e?"hass:window-closed":"hass:window-open";case"lock":return e&&"unlocked"===e?"hass:lock-open":"hass:lock";case"media_player":return e&&"off"!==e&&"idle"!==e?"hass:cast-connected":"hass:cast";case"zwave":switch(e){case"dead":return"hass:emoticon-dead";case"sleeping":return"hass:sleep";case"initializing":return"hass:timer-sand";default:return"hass:z-wave"}default:return console.warn("Unable to find icon for domain "+t+" ("+e+")"),"hass:bookmark"}},exports.fireEvent=d,exports.handleClick=function(t,e,n,a,r){var o;switch(r&&n.dbltap_action?o=n.dbltap_action:a&&n.hold_action?o=n.hold_action:!a&&n.tap_action&&(o=n.tap_action),o||(o={action:"more-info"}),o.action){case"more-info":(n.entity||n.camera_image)&&(d(t,"hass-more-info",{entityId:o.entity?o.entity:n.entity?n.entity:n.camera_image}),o.haptic&&v(t,o.haptic));break;case"navigate":o.navigation_path&&(g(0,o.navigation_path),o.haptic&&v(t,o.haptic));break;case"url":o.url&&window.open(o.url),o.haptic&&v(t,o.haptic);break;case"toggle":n.entity&&(b(e,n.entity),o.haptic&&v(t,o.haptic));break;case"call-service":if(!o.service)return;var i=o.service.split(".",2);e.callService(i[0],i[1],o.service_data),o.haptic&&v(t,o.haptic)}},exports.forwardHaptic=v,exports.hasConfigOrEntityChanged=function(t,e,n){if(e.has("config")||n)return!0;if(t.config.entity){var a=e.get("hass");return!a||a.states[t.config.entity]!==t.hass.states[t.config.entity]}return!1},exports.longPressBind=E,exports.longPress=T,exports.navigate=g,exports.toggleEntity=b,exports.turnOnOffEntities=function(t,e,n){void 0===n&&(n=!0);var a={};e.forEach(function(e){if(h.includes(t.states[e].state)===n){var r=u(e),o=["cover","lock"].includes(r)?r:"homeassistant";o in a||(a[o]=[]),a[o].push(e)}}),Object.keys(a).forEach(function(e){var r;switch(e){case"lock":r=n?"unlock":"lock";break;case"cover":r=n?"open_cover":"close_cover";break;default:r=n?"turn_on":"turn_off"}t.callService(e,r,{entity_id:a[e]})})},exports.turnOnOffEntity=_;
//# sourceMappingURL=index.js.map
